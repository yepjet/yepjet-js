{"version":3,"sources":["routesandfares.js","ApiResource.js","resources/Flights.js","Search.js","index.js"],"names":[],"mappings":"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","file":"routesandfares.js","sourcesContent":["'use strict';\n\nimport {version}  from './package.json';\nimport resources  from './resources';\n\nconst privateProps = new WeakMap();\n\nclass RaF {\n  constructor(key = null, host = 'api.routesandfares.com') {\n    privateProps.set(this, { apiKey: key, host: host }); \n    for (let r in resources) {\n      this[r] = new resources[r](privateProps.get(this));\n    }\n  }\n\n  set apiKey(key) {\n    privateProps.get(this).apiKey = key;\n  }\n}\n\nObject.defineProperty(RaF, 'PACKAGE_VERSION', {\n  value: version\n});\n\nexport default function(key, host) {\n  return Object.freeze(new RaF(key, host));\n}\n","'use strict';\n\nimport path     from 'path';\nimport ptr      from 'path-to-regexp';\nimport Promise  from 'bluebird'; \nimport req      from 'request';\n\nPromise.config({\n  longStackTraces: true,\n  warnings: true\n});\n\nconst request = Promise.promisify(request);\nconst privateProps = new WeakMap();\n\nclass APIResource {\n  constructor(conf, path) {\n    privateProps.set(this, { conf: conf });\n    this.path = path;\n  }\n\n  get host() {\n    return privateProps.get(this).conf.host;\n  }\n\n  request(args) {\n    args.method = args.method || 'GET';\n    args.path   = args.path || '';\n    let uncompiledPath = path.join(this.path, path);\n    let uri = args.params ? ptr.compile(uncompiledPath)(args.params) : '';\n    let requestOptions = {\n      method: args.method,\n      baseUrl: this.host, \n      uri: uri\n    };\n\n    switch(args.method) {\n      case 'POST':\n      case 'PUT':\n        if (args.data) {\n          requestOptions.json = true;\n          requestOptions.body = args.data;\n        }\n        break;\n      case 'GET':\n        if (args.data) requestOptions.qs = args.data;\n        break;\n    }\n\n    return request(requestOptions);\n  }\n}\n\nexport default APIResource;\n","","'use strict';\n\nimport ApiResource from './ApiResource';\n\nclass Search extends ApiResource {\n  constructor(conf) {\n    super(conf, 'search');\n  }\n\n  query(terms) {\n    this.request({\n      method: 'POST',\n      data: terms\n    });\n  }\n}\n\nexport default Search;\n","'use strict';\n\nimport Search   from 'Search';\n// import Flights  from 'flights';\n\nexport default {\n  search: Search\n  // flights: Flights\n};\n"],"sourceRoot":"/source/"}